   1              		.file	"rootdir.c"
   2              		.text
   3              	.Ltext0:
   4              		.cfi_sections	.debug_frame
   5              		.align	2
   6              		.global	openroot
   8              	openroot:
   9              	.LFB0:
  10              		.file 1 "../Library/sdfat/rootdir.c"
   1:../Library/sdfat/rootdir.c **** #include <stdio.h>
   2:../Library/sdfat/rootdir.c **** #include "rootdir.h"
   3:../Library/sdfat/rootdir.c **** #include "fat16.h"
   4:../Library/sdfat/rootdir.c **** #include "partition.h"
   5:../Library/sdfat/rootdir.c **** #include "sd_raw.h"
   6:../Library/sdfat/rootdir.c **** #include "rprintf.h"
   7:../Library/sdfat/rootdir.c **** 
   8:../Library/sdfat/rootdir.c **** 
   9:../Library/sdfat/rootdir.c **** struct fat16_dir_entry_struct dir_entry;
  10:../Library/sdfat/rootdir.c **** struct fat16_fs_struct* fs;
  11:../Library/sdfat/rootdir.c **** struct partition_struct* partition;
  12:../Library/sdfat/rootdir.c **** struct fat16_dir_struct* dd;
  13:../Library/sdfat/rootdir.c **** struct fat16_file_struct * fd;
  14:../Library/sdfat/rootdir.c **** 
  15:../Library/sdfat/rootdir.c **** int openroot(void)
  16:../Library/sdfat/rootdir.c **** {
  11              		.loc 1 16 0
  12              		.cfi_startproc
  13              		@ Function supports interworking.
  14              		@ args = 0, pretend = 0, frame = 0
  15              		@ frame_needed = 0, uses_anonymous_args = 0
  16 0000 10402DE9 		stmfd	sp!, {r4, lr}
  17              	.LCFI0:
  18              		.cfi_def_cfa_offset 8
  19              		.cfi_offset 14, -4
  20              		.cfi_offset 4, -8
  17:../Library/sdfat/rootdir.c ****     /* open first partition */
  18:../Library/sdfat/rootdir.c ****     partition = partition_open((device_read_t) sd_raw_read,
  21              		.loc 1 18 0
  22 0004 A0009FE5 		ldr	r0, .L7
  23 0008 A0109FE5 		ldr	r1, .L7+4
  24 000c A0209FE5 		ldr	r2, .L7+8
  25 0010 0030A0E3 		mov	r3, #0
  26 0014 FEFFFFEB 		bl	partition_open
  27 0018 98409FE5 		ldr	r4, .L7+12
  19:../Library/sdfat/rootdir.c ****                                (device_read_interval_t) sd_raw_read_interval,
  20:../Library/sdfat/rootdir.c ****                                (device_write_t) sd_raw_write,
  21:../Library/sdfat/rootdir.c ****                                0);
  22:../Library/sdfat/rootdir.c **** 
  23:../Library/sdfat/rootdir.c ****     if(!partition)
  28              		.loc 1 23 0
  29 001c 000050E3 		cmp	r0, #0
  18:../Library/sdfat/rootdir.c ****     partition = partition_open((device_read_t) sd_raw_read,
  30              		.loc 1 18 0
  31 0020 000084E5 		str	r0, [r4, #0]
  32              		.loc 1 23 0
  33 0024 0800001A 		bne	.L2
  24:../Library/sdfat/rootdir.c ****     {
  25:../Library/sdfat/rootdir.c ****         /* If the partition did not open, assume the storage device
  26:../Library/sdfat/rootdir.c ****              *      * is a "superfloppy", i.e. has no MBR.
  27:../Library/sdfat/rootdir.c ****              *           */
  28:../Library/sdfat/rootdir.c ****         partition = partition_open((device_read_t) sd_raw_read,
  34              		.loc 1 28 0
  35 0028 7C009FE5 		ldr	r0, .L7
  36 002c 7C109FE5 		ldr	r1, .L7+4
  37 0030 7C209FE5 		ldr	r2, .L7+8
  38 0034 0030E0E3 		mvn	r3, #0
  39 0038 FEFFFFEB 		bl	partition_open
  29:../Library/sdfat/rootdir.c ****                                    (device_read_interval_t) sd_raw_read_interval,
  30:../Library/sdfat/rootdir.c ****                                    (device_write_t) sd_raw_write,
  31:../Library/sdfat/rootdir.c ****                                    -1);
  32:../Library/sdfat/rootdir.c ****         if(!partition)
  40              		.loc 1 32 0
  41 003c 000050E3 		cmp	r0, #0
  28:../Library/sdfat/rootdir.c ****         partition = partition_open((device_read_t) sd_raw_read,
  42              		.loc 1 28 0
  43 0040 000084E5 		str	r0, [r4, #0]
  33:../Library/sdfat/rootdir.c ****         {
  34:../Library/sdfat/rootdir.c ****             rprintf("opening partition failed\n\r");
  44              		.loc 1 34 0
  45 0044 70009F05 		ldreq	r0, .L7+16
  32:../Library/sdfat/rootdir.c ****         if(!partition)
  46              		.loc 1 32 0
  47 0048 1300000A 		beq	.L6
  48              	.L2:
  35:../Library/sdfat/rootdir.c ****             return 1;
  36:../Library/sdfat/rootdir.c ****         }
  37:../Library/sdfat/rootdir.c ****     }
  38:../Library/sdfat/rootdir.c **** 
  39:../Library/sdfat/rootdir.c ****     /* open file system */
  40:../Library/sdfat/rootdir.c ****     fs = fat16_open(partition);
  49              		.loc 1 40 0
  50 004c 64309FE5 		ldr	r3, .L7+12
  51 0050 000093E5 		ldr	r0, [r3, #0]
  52 0054 FEFFFFEB 		bl	fat16_open
  53 0058 60409FE5 		ldr	r4, .L7+20
  41:../Library/sdfat/rootdir.c ****     if(!fs)
  54              		.loc 1 41 0
  55 005c 000050E3 		cmp	r0, #0
  40:../Library/sdfat/rootdir.c ****     fs = fat16_open(partition);
  56              		.loc 1 40 0
  57 0060 000084E5 		str	r0, [r4, #0]
  42:../Library/sdfat/rootdir.c ****     {
  43:../Library/sdfat/rootdir.c ****         rprintf("opening filesystem failed\n\r");
  58              		.loc 1 43 0
  59 0064 58009F05 		ldreq	r0, .L7+24
  41:../Library/sdfat/rootdir.c ****     if(!fs)
  60              		.loc 1 41 0
  61 0068 0B00000A 		beq	.L6
  44:../Library/sdfat/rootdir.c ****         return 1;
  45:../Library/sdfat/rootdir.c ****     }
  46:../Library/sdfat/rootdir.c **** 
  47:../Library/sdfat/rootdir.c ****     /* open root directory */
  48:../Library/sdfat/rootdir.c ****     fat16_get_dir_entry_of_path(fs, "/", &dir_entry);
  62              		.loc 1 48 0
  63 006c 54109FE5 		ldr	r1, .L7+28
  64 0070 54209FE5 		ldr	r2, .L7+32
  65 0074 FEFFFFEB 		bl	fat16_get_dir_entry_of_path
  49:../Library/sdfat/rootdir.c **** 
  50:../Library/sdfat/rootdir.c ****     dd = fat16_open_dir(fs, &dir_entry);
  66              		.loc 1 50 0
  67 0078 000094E5 		ldr	r0, [r4, #0]
  68 007c 48109FE5 		ldr	r1, .L7+32
  69 0080 FEFFFFEB 		bl	fat16_open_dir
  70 0084 44309FE5 		ldr	r3, .L7+36
  51:../Library/sdfat/rootdir.c ****     if(!dd)
  71              		.loc 1 51 0
  72 0088 000050E3 		cmp	r0, #0
  50:../Library/sdfat/rootdir.c ****     dd = fat16_open_dir(fs, &dir_entry);
  73              		.loc 1 50 0
  74 008c 000083E5 		str	r0, [r3, #0]
  52:../Library/sdfat/rootdir.c ****     {
  53:../Library/sdfat/rootdir.c ****         rprintf("opening root directory failed\n\r");
  54:../Library/sdfat/rootdir.c ****         return 1;
  55:../Library/sdfat/rootdir.c ****     }
  56:../Library/sdfat/rootdir.c ****     return 0;
  75              		.loc 1 56 0
  76 0090 0000A013 		movne	r0, #0
  51:../Library/sdfat/rootdir.c ****     if(!dd)
  77              		.loc 1 51 0
  78 0094 0200001A 		bne	.L3
  53:../Library/sdfat/rootdir.c ****         rprintf("opening root directory failed\n\r");
  79              		.loc 1 53 0
  80 0098 34009FE5 		ldr	r0, .L7+40
  81              	.L6:
  82 009c FEFFFFEB 		bl	rprintf
  54:../Library/sdfat/rootdir.c ****         return 1;
  83              		.loc 1 54 0
  84 00a0 0100A0E3 		mov	r0, #1
  85              	.L3:
  57:../Library/sdfat/rootdir.c **** }
  86              		.loc 1 57 0
  87 00a4 1040BDE8 		ldmfd	sp!, {r4, lr}
  88 00a8 1EFF2FE1 		bx	lr
  89              	.L8:
  90              		.align	2
  91              	.L7:
  92 00ac 00000000 		.word	sd_raw_read
  93 00b0 00000000 		.word	sd_raw_read_interval
  94 00b4 00000000 		.word	sd_raw_write
  95 00b8 00000000 		.word	partition
  96 00bc 00000000 		.word	.LC0
  97 00c0 00000000 		.word	fs
  98 00c4 1B000000 		.word	.LC1
  99 00c8 37000000 		.word	.LC2
 100 00cc 00000000 		.word	dir_entry
 101 00d0 00000000 		.word	dd
 102 00d4 39000000 		.word	.LC3
 103              		.cfi_endproc
 104              	.LFE0:
 106              		.align	2
 107              		.global	root_file_exists
 109              	root_file_exists:
 110              	.LFB1:
  58:../Library/sdfat/rootdir.c **** 
  59:../Library/sdfat/rootdir.c **** /* returns 1 if file exists, 0 else */
  60:../Library/sdfat/rootdir.c **** int root_file_exists(char* name)
  61:../Library/sdfat/rootdir.c **** {
 111              		.loc 1 61 0
 112              		.cfi_startproc
 113              		@ Function supports interworking.
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116              	.LVL0:
  62:../Library/sdfat/rootdir.c ****     return(find_file_in_dir(fs,dd,name,&dir_entry));
 117              		.loc 1 62 0
 118 00d8 20309FE5 		ldr	r3, .L10
  61:../Library/sdfat/rootdir.c **** {
 119              		.loc 1 61 0
 120 00dc 0020A0E1 		mov	r2, r0
 121              		.loc 1 62 0
 122 00e0 000093E5 		ldr	r0, [r3, #0]
 123              	.LVL1:
 124 00e4 18309FE5 		ldr	r3, .L10+4
  61:../Library/sdfat/rootdir.c **** {
 125              		.loc 1 61 0
 126 00e8 04E02DE5 		str	lr, [sp, #-4]!
 127              	.LCFI1:
 128              		.cfi_def_cfa_offset 4
 129              		.cfi_offset 14, -4
 130              		.loc 1 62 0
 131 00ec 001093E5 		ldr	r1, [r3, #0]
 132 00f0 10309FE5 		ldr	r3, .L10+8
 133 00f4 FEFFFFEB 		bl	find_file_in_dir
 134              	.LVL2:
  63:../Library/sdfat/rootdir.c **** }
 135              		.loc 1 63 0
 136 00f8 04E09DE4 		ldr	lr, [sp], #4
 137 00fc 1EFF2FE1 		bx	lr
 138              	.L11:
 139              		.align	2
 140              	.L10:
 141 0100 00000000 		.word	fs
 142 0104 00000000 		.word	dd
 143 0108 00000000 		.word	dir_entry
 144              		.cfi_endproc
 145              	.LFE1:
 147              		.align	2
 148              		.global	root_open_new
 150              	root_open_new:
 151              	.LFB2:
  64:../Library/sdfat/rootdir.c **** 
  65:../Library/sdfat/rootdir.c **** /* returns NULL if error, pointer if file opened */
  66:../Library/sdfat/rootdir.c **** struct fat16_file_struct * root_open_new(char* name)
  67:../Library/sdfat/rootdir.c **** {
 152              		.loc 1 67 0
 153              		.cfi_startproc
 154              		@ Function supports interworking.
 155              		@ args = 0, pretend = 0, frame = 0
 156              		@ frame_needed = 0, uses_anonymous_args = 0
 157              	.LVL3:
 158 010c 30402DE9 		stmfd	sp!, {r4, r5, lr}
 159              	.LCFI2:
 160              		.cfi_def_cfa_offset 12
 161              		.cfi_offset 14, -4
 162              		.cfi_offset 5, -8
 163              		.cfi_offset 4, -12
  68:../Library/sdfat/rootdir.c ****     if(fat16_create_file(dd,name,&dir_entry))
 164              		.loc 1 68 0
 165 0110 30509FE5 		ldr	r5, .L15
  67:../Library/sdfat/rootdir.c **** {
 166              		.loc 1 67 0
 167 0114 0040A0E1 		mov	r4, r0
 168              		.loc 1 68 0
 169 0118 0410A0E1 		mov	r1, r4
 170 011c 000095E5 		ldr	r0, [r5, #0]
 171              	.LVL4:
 172 0120 24209FE5 		ldr	r2, .L15+4
 173 0124 FEFFFFEB 		bl	fat16_create_file
 174              	.LVL5:
 175 0128 000050E3 		cmp	r0, #0
  69:../Library/sdfat/rootdir.c ****     {
  70:../Library/sdfat/rootdir.c ****         return(open_file_in_dir(fs,dd,name));
 176              		.loc 1 70 0
 177 012c 1C309F15 		ldrne	r3, .L15+8
 178 0130 00109515 		ldrne	r1, [r5, #0]
 179 0134 00009315 		ldrne	r0, [r3, #0]
 180 0138 0420A011 		movne	r2, r4
 181 013c FEFFFF1B 		blne	open_file_in_dir
 182              	.L13:
  71:../Library/sdfat/rootdir.c ****     }
  72:../Library/sdfat/rootdir.c ****     else
  73:../Library/sdfat/rootdir.c ****     {
  74:../Library/sdfat/rootdir.c ****         return NULL;
  75:../Library/sdfat/rootdir.c ****     }
  76:../Library/sdfat/rootdir.c **** }
 183              		.loc 1 76 0
 184 0140 3040BDE8 		ldmfd	sp!, {r4, r5, lr}
 185 0144 1EFF2FE1 		bx	lr
 186              	.L16:
 187              		.align	2
 188              	.L15:
 189 0148 00000000 		.word	dd
 190 014c 00000000 		.word	dir_entry
 191 0150 00000000 		.word	fs
 192              		.cfi_endproc
 193              	.LFE2:
 195              		.align	2
 196              		.global	root_open
 198              	root_open:
 199              	.LFB3:
  77:../Library/sdfat/rootdir.c **** 
  78:../Library/sdfat/rootdir.c **** struct fat16_file_struct * root_open(char* name)
  79:../Library/sdfat/rootdir.c **** {
 200              		.loc 1 79 0
 201              		.cfi_startproc
 202              		@ Function supports interworking.
 203              		@ args = 0, pretend = 0, frame = 4
 204              		@ frame_needed = 0, uses_anonymous_args = 0
 205              	.LVL6:
 206 0154 31402DE9 		stmfd	sp!, {r0, r4, r5, lr}
 207              	.LCFI3:
 208              		.cfi_def_cfa_offset 16
 209              		.cfi_offset 14, -4
 210              		.cfi_offset 5, -8
 211              		.cfi_offset 4, -12
 212              		.cfi_offset 0, -16
  80:../Library/sdfat/rootdir.c ****     //return(open_file_in_dir(fs,dd,name));
  81:../Library/sdfat/rootdir.c **** 	struct fat16_file_struct * handle;
  82:../Library/sdfat/rootdir.c **** 	int32_t offset=0;
 213              		.loc 1 82 0
 214 0158 0030A0E3 		mov	r3, #0
 215 015c 04408DE2 		add	r4, sp, #4
 216 0160 043024E5 		str	r3, [r4, #-4]!
 217              	.LVL7:
  83:../Library/sdfat/rootdir.c **** 	
  84:../Library/sdfat/rootdir.c **** 	handle = open_file_in_dir(fs, dd, name);
 218              		.loc 1 84 0
 219 0164 2C309FE5 		ldr	r3, .L18
  79:../Library/sdfat/rootdir.c **** {
 220              		.loc 1 79 0
 221 0168 0020A0E1 		mov	r2, r0
 222              		.loc 1 84 0
 223 016c 000093E5 		ldr	r0, [r3, #0]
 224              	.LVL8:
 225 0170 24309FE5 		ldr	r3, .L18+4
 226 0174 001093E5 		ldr	r1, [r3, #0]
 227 0178 FEFFFFEB 		bl	open_file_in_dir
 228              	.LVL9:
  85:../Library/sdfat/rootdir.c **** 	fat16_seek_file(handle, &offset, FAT16_SEEK_END);
 229              		.loc 1 85 0
 230 017c 0D10A0E1 		mov	r1, sp
  84:../Library/sdfat/rootdir.c **** 	handle = open_file_in_dir(fs, dd, name);
 231              		.loc 1 84 0
 232 0180 0050A0E1 		mov	r5, r0
 233              	.LVL10:
 234              		.loc 1 85 0
 235 0184 0220A0E3 		mov	r2, #2
 236 0188 FEFFFFEB 		bl	fat16_seek_file
 237              	.LVL11:
  86:../Library/sdfat/rootdir.c **** 	
  87:../Library/sdfat/rootdir.c **** 	return handle;
  88:../Library/sdfat/rootdir.c **** }
 238              		.loc 1 88 0
 239 018c 0500A0E1 		mov	r0, r5
 240 0190 3840BDE8 		ldmfd	sp!, {r3, r4, r5, lr}
 241 0194 1EFF2FE1 		bx	lr
 242              	.L19:
 243              		.align	2
 244              	.L18:
 245 0198 00000000 		.word	fs
 246 019c 00000000 		.word	dd
 247              		.cfi_endproc
 248              	.LFE3:
 250              		.align	2
 251              		.global	print_disk_info
 253              	print_disk_info:
 254              	.LFB4:
  89:../Library/sdfat/rootdir.c **** 
  90:../Library/sdfat/rootdir.c **** uint8_t print_disk_info(const struct fat16_fs_struct* disk_fs)
  91:../Library/sdfat/rootdir.c **** {
 255              		.loc 1 91 0
 256              		.cfi_startproc
 257              		@ Function supports interworking.
 258              		@ args = 0, pretend = 0, frame = 28
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              	.LVL12:
 261 01a0 30402DE9 		stmfd	sp!, {r4, r5, lr}
 262              	.LCFI4:
 263              		.cfi_def_cfa_offset 12
 264              		.cfi_offset 14, -4
 265              		.cfi_offset 5, -8
 266              		.cfi_offset 4, -12
  92:../Library/sdfat/rootdir.c ****     if(!disk_fs)
 267              		.loc 1 92 0
 268 01a4 004050E2 		subs	r4, r0, #0
  91:../Library/sdfat/rootdir.c **** {
 269              		.loc 1 91 0
 270 01a8 1CD04DE2 		sub	sp, sp, #28
 271              	.LCFI5:
 272              		.cfi_def_cfa_offset 40
  93:../Library/sdfat/rootdir.c ****         return 0;
 273              		.loc 1 93 0
 274 01ac 0400A001 		moveq	r0, r4
 275              	.LVL13:
  92:../Library/sdfat/rootdir.c ****     if(!disk_fs)
 276              		.loc 1 92 0
 277 01b0 2D00000A 		beq	.L21
  94:../Library/sdfat/rootdir.c **** 
  95:../Library/sdfat/rootdir.c ****     struct sd_raw_info disk_info;
  96:../Library/sdfat/rootdir.c ****     if(!sd_raw_get_info(&disk_info))
 278              		.loc 1 96 0
 279 01b4 0D00A0E1 		mov	r0, sp
 280 01b8 FEFFFFEB 		bl	sd_raw_get_info
 281 01bc 000050E3 		cmp	r0, #0
 282 01c0 2900000A 		beq	.L21
  97:../Library/sdfat/rootdir.c ****         return 0;
  98:../Library/sdfat/rootdir.c **** 
  99:../Library/sdfat/rootdir.c **** //    int temp = get_output();
 100:../Library/sdfat/rootdir.c **** //    set_output(UART_ONLY);
 101:../Library/sdfat/rootdir.c ****     rprintf("manuf:  0x%02x\n\r", disk_info.manufacturer);
 283              		.loc 1 101 0
 284 01c4 AC009FE5 		ldr	r0, .L24
 285 01c8 0010DDE5 		ldrb	r1, [sp, #0]	@ zero_extendqisi2
 286 01cc FEFFFFEB 		bl	rprintf
 102:../Library/sdfat/rootdir.c ****     rprintf("oem:    %s\n\r", disk_info.oem);
 287              		.loc 1 102 0
 288 01d0 A4009FE5 		ldr	r0, .L24+4
 289 01d4 01108DE2 		add	r1, sp, #1
 290 01d8 FEFFFFEB 		bl	rprintf
 103:../Library/sdfat/rootdir.c ****     rprintf("prod:   %s\n\r", disk_info.product);
 291              		.loc 1 103 0
 292 01dc 9C009FE5 		ldr	r0, .L24+8
 293 01e0 04108DE2 		add	r1, sp, #4
 294 01e4 FEFFFFEB 		bl	rprintf
 104:../Library/sdfat/rootdir.c ****     rprintf("rev:    %02x\n\r", disk_info.revision);
 295              		.loc 1 104 0
 296 01e8 94009FE5 		ldr	r0, .L24+12
 297 01ec 0A10DDE5 		ldrb	r1, [sp, #10]	@ zero_extendqisi2
 298 01f0 FEFFFFEB 		bl	rprintf
 105:../Library/sdfat/rootdir.c ****     rprintf("serial: 0x%08lx\n\r", disk_info.serial);
 299              		.loc 1 105 0
 300 01f4 8C009FE5 		ldr	r0, .L24+16
 301 01f8 0C109DE5 		ldr	r1, [sp, #12]
 302 01fc FEFFFFEB 		bl	rprintf
 106:../Library/sdfat/rootdir.c ****     rprintf("date:   %02d/%02d\n\r", disk_info.manufacturing_month, disk_info.manufacturing_year);
 303              		.loc 1 106 0
 304 0200 1020DDE5 		ldrb	r2, [sp, #16]	@ zero_extendqisi2
 305 0204 80009FE5 		ldr	r0, .L24+20
 306 0208 1110DDE5 		ldrb	r1, [sp, #17]	@ zero_extendqisi2
 307 020c FEFFFFEB 		bl	rprintf
 107:../Library/sdfat/rootdir.c ****     rprintf("size:   %ld\n\r", disk_info.capacity);
 308              		.loc 1 107 0
 309 0210 78009FE5 		ldr	r0, .L24+24
 310 0214 14109DE5 		ldr	r1, [sp, #20]
 311 0218 FEFFFFEB 		bl	rprintf
 108:../Library/sdfat/rootdir.c ****     rprintf("copy:   %d\n\r", disk_info.flag_copy);
 312              		.loc 1 108 0
 313 021c 70009FE5 		ldr	r0, .L24+28
 314 0220 1810DDE5 		ldrb	r1, [sp, #24]	@ zero_extendqisi2
 315 0224 FEFFFFEB 		bl	rprintf
 109:../Library/sdfat/rootdir.c ****     rprintf("wr.pr.: %d/%d\n\r", disk_info.flag_write_protect_temp, disk_info.flag_write_protect);
 316              		.loc 1 109 0
 317 0228 1920DDE5 		ldrb	r2, [sp, #25]	@ zero_extendqisi2
 318 022c 64009FE5 		ldr	r0, .L24+32
 319 0230 1A10DDE5 		ldrb	r1, [sp, #26]	@ zero_extendqisi2
 320 0234 FEFFFFEB 		bl	rprintf
 110:../Library/sdfat/rootdir.c ****     rprintf("format: %d\n\r", disk_info.format);
 321              		.loc 1 110 0
 322 0238 1B10DDE5 		ldrb	r1, [sp, #27]	@ zero_extendqisi2
 323 023c 58009FE5 		ldr	r0, .L24+36
 324 0240 FEFFFFEB 		bl	rprintf
 111:../Library/sdfat/rootdir.c ****     rprintf("free:   %ld/%ld\n\r", fat16_get_fs_free(disk_fs), fat16_get_fs_size(disk_fs));
 325              		.loc 1 111 0
 326 0244 0400A0E1 		mov	r0, r4
 327 0248 FEFFFFEB 		bl	fat16_get_fs_free
 328 024c 0050A0E1 		mov	r5, r0
 329 0250 0400A0E1 		mov	r0, r4
 330 0254 FEFFFFEB 		bl	fat16_get_fs_size
 331 0258 0510A0E1 		mov	r1, r5
 332 025c 0020A0E1 		mov	r2, r0
 333 0260 38009FE5 		ldr	r0, .L24+40
 334 0264 FEFFFFEB 		bl	rprintf
 112:../Library/sdfat/rootdir.c **** //    set_output(temp);
 113:../Library/sdfat/rootdir.c ****     return 1;
 335              		.loc 1 113 0
 336 0268 0100A0E3 		mov	r0, #1
 337              	.L21:
 114:../Library/sdfat/rootdir.c **** }
 338              		.loc 1 114 0
 339 026c 1CD08DE2 		add	sp, sp, #28
 340 0270 3040BDE8 		ldmfd	sp!, {r4, r5, lr}
 341 0274 1EFF2FE1 		bx	lr
 342              	.L25:
 343              		.align	2
 344              	.L24:
 345 0278 59000000 		.word	.LC4
 346 027c 6A000000 		.word	.LC5
 347 0280 77000000 		.word	.LC6
 348 0284 84000000 		.word	.LC7
 349 0288 93000000 		.word	.LC8
 350 028c A5000000 		.word	.LC9
 351 0290 B9000000 		.word	.LC10
 352 0294 C7000000 		.word	.LC11
 353 0298 D4000000 		.word	.LC12
 354 029c E4000000 		.word	.LC13
 355 02a0 F1000000 		.word	.LC14
 356              		.cfi_endproc
 357              	.LFE4:
 359              		.align	2
 360              		.global	root_disk_info
 362              	root_disk_info:
 363              	.LFB5:
 115:../Library/sdfat/rootdir.c **** 
 116:../Library/sdfat/rootdir.c **** void root_disk_info(void)
 117:../Library/sdfat/rootdir.c **** {
 364              		.loc 1 117 0
 365              		.cfi_startproc
 366              		@ Function supports interworking.
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              		@ link register save eliminated.
 118:../Library/sdfat/rootdir.c ****     print_disk_info(fs);
 370              		.loc 1 118 0
 371 02a4 04309FE5 		ldr	r3, .L27
 372 02a8 000093E5 		ldr	r0, [r3, #0]
 119:../Library/sdfat/rootdir.c **** }
 373              		.loc 1 119 0
 118:../Library/sdfat/rootdir.c ****     print_disk_info(fs);
 374              		.loc 1 118 0
 375 02ac FEFFFFEA 		b	print_disk_info
 376              	.L28:
 377              		.align	2
 378              	.L27:
 379 02b0 00000000 		.word	fs
 380              		.cfi_endproc
 381              	.LFE5:
 383              		.align	2
 384              		.global	rootDirectory_files_stream
 386              	rootDirectory_files_stream:
 387              	.LFB6:
 120:../Library/sdfat/rootdir.c **** 
 121:../Library/sdfat/rootdir.c **** /* sequential calls return sequential characters
 122:../Library/sdfat/rootdir.c ****  * of the sequence of file names in the rootdir
 123:../Library/sdfat/rootdir.c ****  * in place of '\0' it returns ',' only
 124:../Library/sdfat/rootdir.c ****  * returning a zero when the end of all files
 125:../Library/sdfat/rootdir.c ****  * has been reached.
 126:../Library/sdfat/rootdir.c ****  *
 127:../Library/sdfat/rootdir.c ****  * Assert (1) reset whenever you want to re-start
 128:../Library/sdfat/rootdir.c ****  */
 129:../Library/sdfat/rootdir.c **** char rootDirectory_files_stream(int reset)
 130:../Library/sdfat/rootdir.c **** {
 388              		.loc 1 130 0
 389              		.cfi_startproc
 390              		@ Function supports interworking.
 391              		@ args = 0, pretend = 0, frame = 0
 392              		@ frame_needed = 0, uses_anonymous_args = 0
 393              	.LVL14:
 131:../Library/sdfat/rootdir.c **** 
 132:../Library/sdfat/rootdir.c ****     static int idx = 0;
 133:../Library/sdfat/rootdir.c **** 
 134:../Library/sdfat/rootdir.c ****     /* If reset, we need to reset the dir */
 135:../Library/sdfat/rootdir.c ****     if(reset)
 394              		.loc 1 135 0
 395 02b4 000050E3 		cmp	r0, #0
 130:../Library/sdfat/rootdir.c **** {
 396              		.loc 1 130 0
 397 02b8 10402DE9 		stmfd	sp!, {r4, lr}
 398              	.LCFI6:
 399              		.cfi_def_cfa_offset 8
 400              		.cfi_offset 14, -4
 401              		.cfi_offset 4, -8
 402              		.loc 1 135 0
 403 02bc 0400000A 		beq	.L30
 136:../Library/sdfat/rootdir.c ****     {
 137:../Library/sdfat/rootdir.c ****         fat16_reset_dir(dd);
 404              		.loc 1 137 0
 405 02c0 60309FE5 		ldr	r3, .L35
 406 02c4 000093E5 		ldr	r0, [r3, #0]
 407              	.LVL15:
 408 02c8 FEFFFFEB 		bl	fat16_reset_dir
 138:../Library/sdfat/rootdir.c ****         return 0;
 409              		.loc 1 138 0
 410 02cc 0000A0E3 		mov	r0, #0
 411 02d0 120000EA 		b	.L31
 412              	.LVL16:
 413              	.L30:
 139:../Library/sdfat/rootdir.c ****     }
 140:../Library/sdfat/rootdir.c **** 
 141:../Library/sdfat/rootdir.c ****     /* Whenever IDX is zero, we're gonna start a new file,
 142:../Library/sdfat/rootdir.c ****        * so read a new one.
 143:../Library/sdfat/rootdir.c ****        * if there's no new file,
 144:../Library/sdfat/rootdir.c ****        * return 0, because it's over
 145:../Library/sdfat/rootdir.c ****        */
 146:../Library/sdfat/rootdir.c ****     if(idx == 0)
 414              		.loc 1 146 0
 415 02d4 50409FE5 		ldr	r4, .L35+4
 416 02d8 003094E5 		ldr	r3, [r4, #0]
 417 02dc 000053E3 		cmp	r3, #0
 418 02e0 0500001A 		bne	.L32
 147:../Library/sdfat/rootdir.c ****     {
 148:../Library/sdfat/rootdir.c ****         if(fat16_read_dir(dd,&dir_entry)==0)
 419              		.loc 1 148 0
 420 02e4 3C309FE5 		ldr	r3, .L35
 421 02e8 40109FE5 		ldr	r1, .L35+8
 422 02ec 000093E5 		ldr	r0, [r3, #0]
 423              	.LVL17:
 424 02f0 FEFFFFEB 		bl	fat16_read_dir
 425 02f4 000050E3 		cmp	r0, #0
 426 02f8 0800000A 		beq	.L31
 427              	.L32:
 149:../Library/sdfat/rootdir.c ****         {
 150:../Library/sdfat/rootdir.c ****             return '\0';
 151:../Library/sdfat/rootdir.c ****         }
 152:../Library/sdfat/rootdir.c ****     }
 153:../Library/sdfat/rootdir.c **** 
 154:../Library/sdfat/rootdir.c ****     /* If we've reached the end of a string,
 155:../Library/sdfat/rootdir.c ****        * return comma instead of \0,
 156:../Library/sdfat/rootdir.c ****        * so the list is comma delimited,
 157:../Library/sdfat/rootdir.c ****        * and terminated with a zero
 158:../Library/sdfat/rootdir.c ****        */
 159:../Library/sdfat/rootdir.c ****     if(dir_entry.long_name[idx]=='\0')
 428              		.loc 1 159 0
 429 02fc 002094E5 		ldr	r2, [r4, #0]
 430 0300 28109FE5 		ldr	r1, .L35+8
 431 0304 0200D1E7 		ldrb	r0, [r1, r2]	@ zero_extendqisi2
 432 0308 1C309FE5 		ldr	r3, .L35+4
 433 030c 000050E3 		cmp	r0, #0
 160:../Library/sdfat/rootdir.c ****     {
 161:../Library/sdfat/rootdir.c ****         idx = 0;
 162:../Library/sdfat/rootdir.c ****         return ',';
 163:../Library/sdfat/rootdir.c ****     }
 164:../Library/sdfat/rootdir.c **** 
 165:../Library/sdfat/rootdir.c **** 
 166:../Library/sdfat/rootdir.c ****     return dir_entry.long_name[idx++];
 434              		.loc 1 166 0
 435 0310 01208212 		addne	r2, r2, #1
 436 0314 00208315 		strne	r2, [r3, #0]
 161:../Library/sdfat/rootdir.c ****         idx = 0;
 437              		.loc 1 161 0
 438 0318 00008305 		streq	r0, [r3, #0]
 162:../Library/sdfat/rootdir.c ****         return ',';
 439              		.loc 1 162 0
 440 031c 2C00A003 		moveq	r0, #44
 441              	.L31:
 167:../Library/sdfat/rootdir.c **** 
 168:../Library/sdfat/rootdir.c **** }
 442              		.loc 1 168 0
 443 0320 1040BDE8 		ldmfd	sp!, {r4, lr}
 444 0324 1EFF2FE1 		bx	lr
 445              	.L36:
 446              		.align	2
 447              	.L35:
 448 0328 00000000 		.word	dd
 449 032c 00000000 		.word	.LANCHOR0
 450 0330 00000000 		.word	dir_entry
 451              		.cfi_endproc
 452              	.LFE6:
 454              		.align	2
 455              		.global	rootDirectory_files
 457              	rootDirectory_files:
 458              	.LFB7:
 169:../Library/sdfat/rootdir.c **** //Description: Fills buf with len number of chars.  Returns the number of files
 170:../Library/sdfat/rootdir.c **** //				that were cycled through during the read
 171:../Library/sdfat/rootdir.c **** //Pre: buf is an array of characters at least as big as len
 172:../Library/sdfat/rootdir.c **** //		len is the size of the array to read
 173:../Library/sdfat/rootdir.c **** //Post: buf contains the characters of the filenames in Root, starting at the first file
 174:../Library/sdfat/rootdir.c **** //		and ending after len characters
 175:../Library/sdfat/rootdir.c **** int rootDirectory_files(char* buf, int len)
 176:../Library/sdfat/rootdir.c **** {
 459              		.loc 1 176 0
 460              		.cfi_startproc
 461              		@ Function supports interworking.
 462              		@ args = 0, pretend = 0, frame = 0
 463              		@ frame_needed = 0, uses_anonymous_args = 0
 464              	.LVL18:
 465 0334 F0412DE9 		stmfd	sp!, {r4, r5, r6, r7, r8, lr}
 466              	.LCFI7:
 467              		.cfi_def_cfa_offset 24
 468              		.cfi_offset 14, -4
 469              		.cfi_offset 8, -8
 470              		.cfi_offset 7, -12
 471              		.cfi_offset 6, -16
 472              		.cfi_offset 5, -20
 473              		.cfi_offset 4, -24
 177:../Library/sdfat/rootdir.c ****     int i;
 178:../Library/sdfat/rootdir.c ****     int num=0;
 179:../Library/sdfat/rootdir.c ****     /* Loop will walk through every file in directory dd */
 180:../Library/sdfat/rootdir.c ****     fat16_reset_dir(dd);
 474              		.loc 1 180 0
 475 0338 84809FE5 		ldr	r8, .L46
 176:../Library/sdfat/rootdir.c **** {
 476              		.loc 1 176 0
 477 033c 0060A0E1 		mov	r6, r0
 478              		.loc 1 180 0
 479 0340 000098E5 		ldr	r0, [r8, #0]
 480              	.LVL19:
 176:../Library/sdfat/rootdir.c **** {
 481              		.loc 1 176 0
 482 0344 0140A0E1 		mov	r4, r1
 178:../Library/sdfat/rootdir.c ****     int num=0;
 483              		.loc 1 178 0
 484 0348 0050A0E3 		mov	r5, #0
 485              		.loc 1 180 0
 486 034c FEFFFFEB 		bl	fat16_reset_dir
 487              	.LVL20:
 181:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 182:../Library/sdfat/rootdir.c ****     {
 183:../Library/sdfat/rootdir.c ****         i = 0;
 184:../Library/sdfat/rootdir.c ****         /* Spin through the filename */
 185:../Library/sdfat/rootdir.c ****         while(dir_entry.long_name[i]!='\0')
 186:../Library/sdfat/rootdir.c ****         {
 187:../Library/sdfat/rootdir.c ****             /* And copy each character into buf */
 188:../Library/sdfat/rootdir.c ****             *buf++=dir_entry.long_name[i++];
 189:../Library/sdfat/rootdir.c ****             len--;
 190:../Library/sdfat/rootdir.c ****             if(len==1)
 191:../Library/sdfat/rootdir.c ****             {
 192:../Library/sdfat/rootdir.c ****                 /* Buf if we ever get to the end of buf, quit */
 193:../Library/sdfat/rootdir.c ****                 *buf='\0';
 194:../Library/sdfat/rootdir.c ****                 return 1;
 195:../Library/sdfat/rootdir.c ****             }
 196:../Library/sdfat/rootdir.c ****         }
 197:../Library/sdfat/rootdir.c ****         *buf++=',';
 488              		.loc 1 197 0
 489 0350 2C70A0E3 		mov	r7, #44
 181:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 490              		.loc 1 181 0
 491 0354 100000EA 		b	.L38
 492              	.LVL21:
 493              	.L41:
 190:../Library/sdfat/rootdir.c ****             if(len==1)
 494              		.loc 1 190 0
 495 0358 010054E3 		cmp	r4, #1
 188:../Library/sdfat/rootdir.c ****             *buf++=dir_entry.long_name[i++];
 496              		.loc 1 188 0
 497 035c 0020C3E5 		strb	r2, [r3, #0]
 498              	.LVL22:
 190:../Library/sdfat/rootdir.c ****             if(len==1)
 499              		.loc 1 190 0
 193:../Library/sdfat/rootdir.c ****                 *buf='\0';
 500              		.loc 1 193 0
 501 0360 0020A003 		moveq	r2, #0
 502 0364 0900000A 		beq	.L45
 503              	.L43:
 185:../Library/sdfat/rootdir.c ****         while(dir_entry.long_name[i]!='\0')
 504              		.loc 1 185 0
 505 0368 0120F1E5 		ldrb	r2, [r1, #1]!	@ zero_extendqisi2
 506 036c 000052E3 		cmp	r2, #0
 188:../Library/sdfat/rootdir.c ****             *buf++=dir_entry.long_name[i++];
 507              		.loc 1 188 0
 508 0370 0630A0E1 		mov	r3, r6
 509 0374 014044E2 		sub	r4, r4, #1
 510              	.LVL23:
 511 0378 016086E2 		add	r6, r6, #1
 512              	.LVL24:
 185:../Library/sdfat/rootdir.c ****         while(dir_entry.long_name[i]!='\0')
 513              		.loc 1 185 0
 514 037c F5FFFF1A 		bne	.L41
 198:../Library/sdfat/rootdir.c ****         num++;
 199:../Library/sdfat/rootdir.c ****         len--;
 200:../Library/sdfat/rootdir.c ****         if(len==1)
 515              		.loc 1 200 0
 516 0380 010054E3 		cmp	r4, #1
 197:../Library/sdfat/rootdir.c ****         *buf++=',';
 517              		.loc 1 197 0
 518 0384 0070C3E5 		strb	r7, [r3, #0]
 519              	.LVL25:
 198:../Library/sdfat/rootdir.c ****         num++;
 520              		.loc 1 198 0
 521 0388 015085E2 		add	r5, r5, #1
 522              	.LVL26:
 523              		.loc 1 200 0
 524 038c 0200001A 		bne	.L38
 525              	.LVL27:
 526              	.L45:
 201:../Library/sdfat/rootdir.c ****         {
 202:../Library/sdfat/rootdir.c ****             /* Buf if we ever get to the end of buf, quit */
 203:../Library/sdfat/rootdir.c ****             *buf='\0';
 527              		.loc 1 203 0
 528 0390 0120C3E5 		strb	r2, [r3, #1]
 204:../Library/sdfat/rootdir.c ****             return 1;
 529              		.loc 1 204 0
 530 0394 0450A0E1 		mov	r5, r4
 531              	.LVL28:
 532 0398 060000EA 		b	.L40
 533              	.L38:
 534              	.LVL29:
 181:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 535              		.loc 1 181 0 discriminator 1
 536 039c 000098E5 		ldr	r0, [r8, #0]
 537 03a0 20109FE5 		ldr	r1, .L46+4
 538 03a4 FEFFFFEB 		bl	fat16_read_dir
 539 03a8 000050E3 		cmp	r0, #0
 181:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 540              		.loc 1 181 0 is_stmt 0
 541 03ac 18109F15 		ldrne	r1, .L46+8
 542 03b0 ECFFFF1A 		bne	.L43
 543              	.L42:
 205:../Library/sdfat/rootdir.c ****         }
 206:../Library/sdfat/rootdir.c ****     }
 207:../Library/sdfat/rootdir.c ****     *buf='\0';
 544              		.loc 1 207 0 is_stmt 1
 545 03b4 0000C6E5 		strb	r0, [r6, #0]
 546              	.LVL30:
 547              	.L40:
 208:../Library/sdfat/rootdir.c ****     return num;
 209:../Library/sdfat/rootdir.c **** }
 548              		.loc 1 209 0
 549 03b8 0500A0E1 		mov	r0, r5
 550 03bc F041BDE8 		ldmfd	sp!, {r4, r5, r6, r7, r8, lr}
 551 03c0 1EFF2FE1 		bx	lr
 552              	.L47:
 553              		.align	2
 554              	.L46:
 555 03c4 00000000 		.word	dd
 556 03c8 00000000 		.word	dir_entry
 557 03cc FFFFFFFF 		.word	dir_entry-1
 558              		.cfi_endproc
 559              	.LFE7:
 561              		.align	2
 562              		.global	root_format
 564              	root_format:
 565              	.LFB8:
 210:../Library/sdfat/rootdir.c **** 
 211:../Library/sdfat/rootdir.c **** void root_format(void)
 212:../Library/sdfat/rootdir.c **** {
 566              		.loc 1 212 0
 567              		.cfi_startproc
 568              		@ Function supports interworking.
 569              		@ args = 0, pretend = 0, frame = 0
 570              		@ frame_needed = 0, uses_anonymous_args = 0
 571 03d0 30402DE9 		stmfd	sp!, {r4, r5, lr}
 572              	.LCFI8:
 573              		.cfi_def_cfa_offset 12
 574              		.cfi_offset 14, -4
 575              		.cfi_offset 5, -8
 576              		.cfi_offset 4, -12
 213:../Library/sdfat/rootdir.c ****     fat16_reset_dir(dd);
 577              		.loc 1 213 0
 578 03d4 3C409FE5 		ldr	r4, .L51
 579 03d8 000094E5 		ldr	r0, [r4, #0]
 580 03dc FEFFFFEB 		bl	fat16_reset_dir
 214:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 215:../Library/sdfat/rootdir.c ****     {
 216:../Library/sdfat/rootdir.c ****         fat16_delete_file(fs,&dir_entry);
 581              		.loc 1 216 0
 582 03e0 34509FE5 		ldr	r5, .L51+4
 214:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 583              		.loc 1 214 0
 584 03e4 040000EA 		b	.L49
 585              	.L50:
 586              		.loc 1 216 0
 587 03e8 000095E5 		ldr	r0, [r5, #0]
 588 03ec 2C109FE5 		ldr	r1, .L51+8
 589 03f0 FEFFFFEB 		bl	fat16_delete_file
 217:../Library/sdfat/rootdir.c ****         fat16_reset_dir(dd);
 590              		.loc 1 217 0
 591 03f4 000094E5 		ldr	r0, [r4, #0]
 592 03f8 FEFFFFEB 		bl	fat16_reset_dir
 593              	.L49:
 214:../Library/sdfat/rootdir.c ****     while(fat16_read_dir(dd,&dir_entry))
 594              		.loc 1 214 0 discriminator 1
 595 03fc 000094E5 		ldr	r0, [r4, #0]
 596 0400 18109FE5 		ldr	r1, .L51+8
 597 0404 FEFFFFEB 		bl	fat16_read_dir
 598 0408 000050E3 		cmp	r0, #0
 599 040c F5FFFF1A 		bne	.L50
 218:../Library/sdfat/rootdir.c ****     }
 219:../Library/sdfat/rootdir.c **** }
 600              		.loc 1 219 0
 601 0410 3040BDE8 		ldmfd	sp!, {r4, r5, lr}
 602 0414 1EFF2FE1 		bx	lr
 603              	.L52:
 604              		.align	2
 605              	.L51:
 606 0418 00000000 		.word	dd
 607 041c 00000000 		.word	fs
 608 0420 00000000 		.word	dir_entry
 609              		.cfi_endproc
 610              	.LFE8:
 612              		.align	2
 613              		.global	root_delete
 615              	root_delete:
 616              	.LFB9:
 220:../Library/sdfat/rootdir.c **** 
 221:../Library/sdfat/rootdir.c **** int root_delete(char* filename)
 222:../Library/sdfat/rootdir.c **** {
 617              		.loc 1 222 0
 618              		.cfi_startproc
 619              		@ Function supports interworking.
 620              		@ args = 0, pretend = 0, frame = 0
 621              		@ frame_needed = 0, uses_anonymous_args = 0
 622              	.LVL31:
 623 0424 10402DE9 		stmfd	sp!, {r4, lr}
 624              	.LCFI9:
 625              		.cfi_def_cfa_offset 8
 626              		.cfi_offset 14, -4
 627              		.cfi_offset 4, -8
 223:../Library/sdfat/rootdir.c ****     if(find_file_in_dir(fs,dd,filename,&dir_entry))
 628              		.loc 1 223 0
 629 0428 38309FE5 		ldr	r3, .L56
 630 042c 38409FE5 		ldr	r4, .L56+4
 222:../Library/sdfat/rootdir.c **** {
 631              		.loc 1 222 0
 632 0430 0020A0E1 		mov	r2, r0
 633              		.loc 1 223 0
 634 0434 001093E5 		ldr	r1, [r3, #0]
 635 0438 000094E5 		ldr	r0, [r4, #0]
 636              	.LVL32:
 637 043c 2C309FE5 		ldr	r3, .L56+8
 638 0440 FEFFFFEB 		bl	find_file_in_dir
 639              	.LVL33:
 640 0444 000050E3 		cmp	r0, #0
 224:../Library/sdfat/rootdir.c ****     {
 225:../Library/sdfat/rootdir.c ****         fat16_delete_file(fs,&dir_entry);
 226:../Library/sdfat/rootdir.c ****         return 0;
 227:../Library/sdfat/rootdir.c ****     }
 228:../Library/sdfat/rootdir.c ****     return 1;
 641              		.loc 1 228 0
 642 0448 0100A003 		moveq	r0, #1
 223:../Library/sdfat/rootdir.c ****     if(find_file_in_dir(fs,dd,filename,&dir_entry))
 643              		.loc 1 223 0
 644 044c 0300000A 		beq	.L54
 225:../Library/sdfat/rootdir.c ****         fat16_delete_file(fs,&dir_entry);
 645              		.loc 1 225 0
 646 0450 000094E5 		ldr	r0, [r4, #0]
 647 0454 14109FE5 		ldr	r1, .L56+8
 648 0458 FEFFFFEB 		bl	fat16_delete_file
 226:../Library/sdfat/rootdir.c ****         return 0;
 649              		.loc 1 226 0
 650 045c 0000A0E3 		mov	r0, #0
 651              	.L54:
 229:../Library/sdfat/rootdir.c **** }
 652              		.loc 1 229 0
 653 0460 1040BDE8 		ldmfd	sp!, {r4, lr}
 654 0464 1EFF2FE1 		bx	lr
 655              	.L57:
 656              		.align	2
 657              	.L56:
 658 0468 00000000 		.word	dd
 659 046c 00000000 		.word	fs
 660 0470 00000000 		.word	dir_entry
 661              		.cfi_endproc
 662              	.LFE9:
 664              		.comm	fd,4,4
 665              		.comm	dd,4,4
 666              		.comm	partition,4,4
 667              		.comm	fs,4,4
 668              		.comm	dir_entry,44,4
 669              		.section	.rodata.str1.1,"aMS",%progbits,1
 670              	.LC0:
 671 0000 6F70656E 		.ascii	"opening partition failed\012\015\000"
 671      696E6720 
 671      70617274 
 671      6974696F 
 671      6E206661 
 672              	.LC1:
 673 001b 6F70656E 		.ascii	"opening filesystem failed\012\015\000"
 673      696E6720 
 673      66696C65 
 673      73797374 
 673      656D2066 
 674              	.LC2:
 675 0037 2F00     		.ascii	"/\000"
 676              	.LC3:
 677 0039 6F70656E 		.ascii	"opening root directory failed\012\015\000"
 677      696E6720 
 677      726F6F74 
 677      20646972 
 677      6563746F 
 678              	.LC4:
 679 0059 6D616E75 		.ascii	"manuf:  0x%02x\012\015\000"
 679      663A2020 
 679      30782530 
 679      32780A0D 
 679      00
 680              	.LC5:
 681 006a 6F656D3A 		.ascii	"oem:    %s\012\015\000"
 681      20202020 
 681      25730A0D 
 681      00
 682              	.LC6:
 683 0077 70726F64 		.ascii	"prod:   %s\012\015\000"
 683      3A202020 
 683      25730A0D 
 683      00
 684              	.LC7:
 685 0084 7265763A 		.ascii	"rev:    %02x\012\015\000"
 685      20202020 
 685      25303278 
 685      0A0D00
 686              	.LC8:
 687 0093 73657269 		.ascii	"serial: 0x%08lx\012\015\000"
 687      616C3A20 
 687      30782530 
 687      386C780A 
 687      0D00
 688              	.LC9:
 689 00a5 64617465 		.ascii	"date:   %02d/%02d\012\015\000"
 689      3A202020 
 689      25303264 
 689      2F253032 
 689      640A0D00 
 690              	.LC10:
 691 00b9 73697A65 		.ascii	"size:   %ld\012\015\000"
 691      3A202020 
 691      256C640A 
 691      0D00
 692              	.LC11:
 693 00c7 636F7079 		.ascii	"copy:   %d\012\015\000"
 693      3A202020 
 693      25640A0D 
 693      00
 694              	.LC12:
 695 00d4 77722E70 		.ascii	"wr.pr.: %d/%d\012\015\000"
 695      722E3A20 
 695      25642F25 
 695      640A0D00 
 696              	.LC13:
 697 00e4 666F726D 		.ascii	"format: %d\012\015\000"
 697      61743A20 
 697      25640A0D 
 697      00
 698              	.LC14:
 699 00f1 66726565 		.ascii	"free:   %ld/%ld\012\015\000"
 699      3A202020 
 699      256C642F 
 699      256C640A 
 699      0D00
 700              		.bss
 701              		.align	2
 702              		.set	.LANCHOR0,. + 0
 705              	idx.2334:
 706 0000 00000000 		.space	4
 707              		.text
 708              	.Letext0:
 709              		.file 2 "/opt/local/lib/gcc/arm-elf/4.6.1/../../../../arm-elf/include/stdint.h"
 710              		.file 3 "../Library/sdfat/fat16.h"
 711              		.file 4 "../Library/sdfat/partition.h"
 712              		.file 5 "../Library/sdfat/sd_raw.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 rootdir.c
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:5      .text:0000000000000000 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:8      .text:0000000000000000 openroot
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:92     .text:00000000000000ac $d
                            *COM*:0000000000000004 partition
                            *COM*:0000000000000004 fs
                            *COM*:000000000000002c dir_entry
                            *COM*:0000000000000004 dd
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:106    .text:00000000000000d8 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:109    .text:00000000000000d8 root_file_exists
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:141    .text:0000000000000100 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:147    .text:000000000000010c $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:150    .text:000000000000010c root_open_new
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:189    .text:0000000000000148 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:195    .text:0000000000000154 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:198    .text:0000000000000154 root_open
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:245    .text:0000000000000198 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:250    .text:00000000000001a0 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:253    .text:00000000000001a0 print_disk_info
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:345    .text:0000000000000278 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:359    .text:00000000000002a4 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:362    .text:00000000000002a4 root_disk_info
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:379    .text:00000000000002b0 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:383    .text:00000000000002b4 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:386    .text:00000000000002b4 rootDirectory_files_stream
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:448    .text:0000000000000328 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:454    .text:0000000000000334 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:457    .text:0000000000000334 rootDirectory_files
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:555    .text:00000000000003c4 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:561    .text:00000000000003d0 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:564    .text:00000000000003d0 root_format
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:606    .text:0000000000000418 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:612    .text:0000000000000424 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:615    .text:0000000000000424 root_delete
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:658    .text:0000000000000468 $d
                            *COM*:0000000000000004 fd
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:701    .bss:0000000000000000 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccar7Ny1.s:705    .bss:0000000000000000 idx.2334
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
partition_open
fat16_open
fat16_get_dir_entry_of_path
fat16_open_dir
rprintf
sd_raw_read
sd_raw_read_interval
sd_raw_write
find_file_in_dir
fat16_create_file
open_file_in_dir
fat16_seek_file
sd_raw_get_info
fat16_get_fs_free
fat16_get_fs_size
fat16_reset_dir
fat16_read_dir
fat16_delete_file
