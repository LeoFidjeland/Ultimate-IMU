   1              		.file	"sensor.cpp"
   2              		.text
   3              	.Ltext0:
   4              		.cfi_sections	.debug_frame
   5              		.align	2
   6              		.global	_ZN7cSensorC2Ev
   8              	_ZN7cSensorC2Ev:
   9              	.LFB1:
  10              		.file 1 "../Library/sensor/sensor.cpp"
   1:../Library/sensor/sensor.cpp **** /*
   2:../Library/sensor/sensor.cpp **** Library for filtering Accelerometer and Gyroscope Values
   3:../Library/sensor/sensor.cpp **** Based on "A Guide to Using IMU in Embedded Applications" by Starlino
   4:../Library/sensor/sensor.cpp **** http://starlino.com/imu_guide.html
   5:../Library/sensor/sensor.cpp **** 
   6:../Library/sensor/sensor.cpp **** Rewritten for LPC2148 by Ryan Owens
   7:../Library/sensor/sensor.cpp **** 10/18/10
   8:../Library/sensor/sensor.cpp **** */
   9:../Library/sensor/sensor.cpp **** 
  10:../Library/sensor/sensor.cpp **** #include "sensor.h"
  11:../Library/sensor/sensor.cpp **** #include <stdlib.h>
  12:../Library/sensor/sensor.cpp **** #include <stdio.h>
  13:../Library/sensor/sensor.cpp **** #include "LPC21xx_SFE.h"
  14:../Library/sensor/sensor.cpp **** #include "main.h"
  15:../Library/sensor/sensor.cpp **** #include <math.h>
  16:../Library/sensor/sensor.cpp **** 
  17:../Library/sensor/sensor.cpp **** #define GLOBALOBJECT
  18:../Library/sensor/sensor.cpp **** 
  19:../Library/sensor/sensor.cpp **** cSensor filter;
  20:../Library/sensor/sensor.cpp **** 
  21:../Library/sensor/sensor.cpp **** cSensor::cSensor(void)
  11              		.loc 1 21 0
  12              		.cfi_startproc
  13              		@ Function supports interworking.
  14              		@ args = 0, pretend = 0, frame = 0
  15              		@ frame_needed = 0, uses_anonymous_args = 0
  16              		@ link register save eliminated.
  17              	.LVL0:
  18              	.LBB4:
  22:../Library/sensor/sensor.cpp **** {
  23:../Library/sensor/sensor.cpp **** 	Axz=0, Ayz=0;
  19              		.loc 1 23 0
  20 0000 0030A0E3 		mov	r3, #0
  21 0004 0020A0E3 		mov	r2, #0
  22              	.LBE4:
  21:../Library/sensor/sensor.cpp **** cSensor::cSensor(void)
  23              		.loc 1 21 0
  24 0008 30002DE9 		stmfd	sp!, {r4, r5}
  25              	.LCFI0:
  26              		.cfi_def_cfa_offset 8
  27              		.cfi_offset 5, -4
  28              		.cfi_offset 4, -8
  29              	.LBB5:
  24:../Library/sensor/sensor.cpp **** 	EstAxz=0, EstAyz=0;
  25:../Library/sensor/sensor.cpp **** 	gyro_weight=5;
  30              		.loc 1 25 0
  31 000c 60409FE5 		ldr	r4, .L2
  26:../Library/sensor/sensor.cpp **** 	signRzGyro=0;
  32              		.loc 1 26 0
  33 0010 0010A0E3 		mov	r1, #0
  23:../Library/sensor/sensor.cpp **** 	Axz=0, Ayz=0;
  34              		.loc 1 23 0
  35 0014 602080E5 		str	r2, [r0, #96]
  36 0018 643080E5 		str	r3, [r0, #100]
  37 001c 682080E5 		str	r2, [r0, #104]
  38 0020 6C3080E5 		str	r3, [r0, #108]
  24:../Library/sensor/sensor.cpp **** 	EstAxz=0, EstAyz=0;
  39              		.loc 1 24 0
  40 0024 702080E5 		str	r2, [r0, #112]
  41 0028 743080E5 		str	r3, [r0, #116]
  42 002c 782080E5 		str	r2, [r0, #120]
  43 0030 7C3080E5 		str	r3, [r0, #124]
  25:../Library/sensor/sensor.cpp **** 	gyro_weight=5;
  44              		.loc 1 25 0
  45 0034 0050A0E3 		mov	r5, #0
  27:../Library/sensor/sensor.cpp **** 	AccTheta=0, EstTheta=0;
  46              		.loc 1 27 0
  47 0038 8C2080E5 		str	r2, [r0, #140]
  48 003c 903080E5 		str	r3, [r0, #144]
  49 0040 942080E5 		str	r2, [r0, #148]
  50 0044 983080E5 		str	r3, [r0, #152]
  28:../Library/sensor/sensor.cpp **** 	last_time=0, this_time=0;
  29:../Library/sensor/sensor.cpp **** 	interval=0;
  51              		.loc 1 29 0
  52 0048 A42080E5 		str	r2, [r0, #164]
  53 004c A83080E5 		str	r3, [r0, #168]
  30:../Library/sensor/sensor.cpp **** 	first_run=2;
  54              		.loc 1 30 0
  55 0050 0230A0E3 		mov	r3, #2
  25:../Library/sensor/sensor.cpp **** 	gyro_weight=5;
  56              		.loc 1 25 0
  57 0054 804080E5 		str	r4, [r0, #128]
  58 0058 845080E5 		str	r5, [r0, #132]
  26:../Library/sensor/sensor.cpp **** 	signRzGyro=0;
  59              		.loc 1 26 0
  60 005c 8810C0E5 		strb	r1, [r0, #136]
  28:../Library/sensor/sensor.cpp **** 	last_time=0, this_time=0;
  61              		.loc 1 28 0
  62 0060 9C1080E5 		str	r1, [r0, #156]
  63 0064 A01080E5 		str	r1, [r0, #160]
  64              		.loc 1 30 0
  65 0068 E430C0E5 		strb	r3, [r0, #228]
  66              	.LBE5:
  31:../Library/sensor/sensor.cpp **** }
  67              		.loc 1 31 0
  68 006c 3000BDE8 		ldmfd	sp!, {r4, r5}
  69 0070 1EFF2FE1 		bx	lr
  70              	.L3:
  71              		.align	2
  72              	.L2:
  73 0074 00001440 		.word	1075052544
  74              		.cfi_endproc
  75              	.LFE1:
  77              		.global	__extendsfdf2
  78              		.align	2
  79              		.global	_ZN7cSensor9fillRwAccEfff
  81              	_ZN7cSensor9fillRwAccEfff:
  82              	.LFB3:
  32:../Library/sensor/sensor.cpp **** 
  33:../Library/sensor/sensor.cpp **** void cSensor::fillRwAcc(float x, float y, float z)
  34:../Library/sensor/sensor.cpp **** {
  83              		.loc 1 34 0
  84              		.cfi_startproc
  85              		@ Function supports interworking.
  86              		@ args = 0, pretend = 0, frame = 0
  87              		@ frame_needed = 0, uses_anonymous_args = 0
  88              	.LVL1:
  89 0078 70402DE9 		stmfd	sp!, {r4, r5, r6, lr}
  90              	.LCFI1:
  91              		.cfi_def_cfa_offset 16
  92              		.cfi_offset 14, -4
  93              		.cfi_offset 6, -8
  94              		.cfi_offset 5, -12
  95              		.cfi_offset 4, -16
  96              		.loc 1 34 0
  97 007c 0040A0E1 		mov	r4, r0
  35:../Library/sensor/sensor.cpp **** 	RwAcc[0] = x;
  98              		.loc 1 35 0
  99 0080 0100A0E1 		mov	r0, r1
 100              	.LVL2:
  34:../Library/sensor/sensor.cpp **** {
 101              		.loc 1 34 0
 102 0084 0250A0E1 		mov	r5, r2
 103 0088 0360A0E1 		mov	r6, r3
 104              		.loc 1 35 0
 105 008c FEFFFFEB 		bl	__extendsfdf2
 106              	.LVL3:
 107 0090 180084E5 		str	r0, [r4, #24]
 108 0094 1C1084E5 		str	r1, [r4, #28]
  36:../Library/sensor/sensor.cpp **** 	RwAcc[1] = y;
 109              		.loc 1 36 0
 110 0098 0500A0E1 		mov	r0, r5
 111 009c FEFFFFEB 		bl	__extendsfdf2
 112 00a0 200084E5 		str	r0, [r4, #32]
 113 00a4 241084E5 		str	r1, [r4, #36]
  37:../Library/sensor/sensor.cpp **** 	RwAcc[2] = z;
 114              		.loc 1 37 0
 115 00a8 0600A0E1 		mov	r0, r6
 116 00ac FEFFFFEB 		bl	__extendsfdf2
 117 00b0 280084E5 		str	r0, [r4, #40]
 118 00b4 2C1084E5 		str	r1, [r4, #44]
  38:../Library/sensor/sensor.cpp **** }
 119              		.loc 1 38 0
 120 00b8 7040BDE8 		ldmfd	sp!, {r4, r5, r6, lr}
 121 00bc 1EFF2FE1 		bx	lr
 122              		.cfi_endproc
 123              	.LFE3:
 125              		.global	__muldf3
 126              		.global	__adddf3
 127              		.global	__divdf3
 128              		.align	2
 129              		.global	_ZN7cSensor15normalizeVectorEPd
 131              	_ZN7cSensor15normalizeVectorEPd:
 132              	.LFB4:
  39:../Library/sensor/sensor.cpp **** 
  40:../Library/sensor/sensor.cpp **** void cSensor::normalizeVector(double * vector)
  41:../Library/sensor/sensor.cpp **** {
 133              		.loc 1 41 0
 134              		.cfi_startproc
 135              		@ Function supports interworking.
 136              		@ args = 0, pretend = 0, frame = 0
 137              		@ frame_needed = 0, uses_anonymous_args = 0
 138              	.LVL4:
 139 00c0 D04F2DE9 		stmfd	sp!, {r4, r6, r7, r8, r9, sl, fp, lr}
 140              	.LCFI2:
 141              		.cfi_def_cfa_offset 32
 142              		.cfi_offset 14, -4
 143              		.cfi_offset 11, -8
 144              		.cfi_offset 10, -12
 145              		.cfi_offset 9, -16
 146              		.cfi_offset 8, -20
 147              		.cfi_offset 7, -24
 148              		.cfi_offset 6, -28
 149              		.cfi_offset 4, -32
 150              		.loc 1 41 0
 151 00c4 0140A0E1 		mov	r4, r1
 152              	.LBB6:
  42:../Library/sensor/sensor.cpp **** 	double R;
  43:../Library/sensor/sensor.cpp **** 	R = sqrt(vector[0]*vector[0] + vector[1]*vector[1] + vector[2]*vector[2]);
 153              		.loc 1 43 0
 154 00c8 030091E8 		ldmia	r1, {r0-r1}
 155              	.LVL5:
 156 00cc 0020A0E1 		mov	r2, r0
 157 00d0 0130A0E1 		mov	r3, r1
 158 00d4 FEFFFFEB 		bl	__muldf3
 159              	.LVL6:
 160 00d8 087084E2 		add	r7, r4, #8
 161 00dc C00097E8 		ldmia	r7, {r6-r7}
 162 00e0 0080A0E1 		mov	r8, r0
 163 00e4 0620A0E1 		mov	r2, r6
 164 00e8 0730A0E1 		mov	r3, r7
 165 00ec 0190A0E1 		mov	r9, r1
 166 00f0 0600A0E1 		mov	r0, r6
 167 00f4 0710A0E1 		mov	r1, r7
 168 00f8 FEFFFFEB 		bl	__muldf3
 169 00fc 0020A0E1 		mov	r2, r0
 170 0100 0130A0E1 		mov	r3, r1
 171 0104 0800A0E1 		mov	r0, r8
 172 0108 0910A0E1 		mov	r1, r9
 173 010c FEFFFFEB 		bl	__adddf3
 174 0110 10B084E2 		add	fp, r4, #16
 175 0114 000C9BE8 		ldmia	fp, {sl-fp}
 176 0118 0060A0E1 		mov	r6, r0
 177 011c 0170A0E1 		mov	r7, r1
 178 0120 0A20A0E1 		mov	r2, sl
 179 0124 0B30A0E1 		mov	r3, fp
 180 0128 0A00A0E1 		mov	r0, sl
 181 012c 0B10A0E1 		mov	r1, fp
 182 0130 FEFFFFEB 		bl	__muldf3
 183 0134 0020A0E1 		mov	r2, r0
 184 0138 0130A0E1 		mov	r3, r1
 185 013c 0600A0E1 		mov	r0, r6
 186 0140 0710A0E1 		mov	r1, r7
 187 0144 FEFFFFEB 		bl	__adddf3
 188 0148 FEFFFFEB 		bl	sqrt
 189 014c 0060A0E1 		mov	r6, r0
 190 0150 0170A0E1 		mov	r7, r1
 191              	.LVL7:
  44:../Library/sensor/sensor.cpp **** 	vector[0] /= R;
 192              		.loc 1 44 0
 193 0154 0620A0E1 		mov	r2, r6
 194 0158 030094E8 		ldmia	r4, {r0-r1}
 195 015c 0730A0E1 		mov	r3, r7
 196 0160 FEFFFFEB 		bl	__divdf3
  45:../Library/sensor/sensor.cpp **** 	vector[1] /= R;	
 197              		.loc 1 45 0
 198 0164 0620A0E1 		mov	r2, r6
  44:../Library/sensor/sensor.cpp **** 	vector[0] /= R;
 199              		.loc 1 44 0
 200 0168 030084E8 		stmia	r4, {r0-r1}
 201              		.loc 1 45 0
 202 016c 0730A0E1 		mov	r3, r7
 203 0170 081084E2 		add	r1, r4, #8
 204 0174 030091E8 		ldmia	r1, {r0-r1}
 205 0178 FEFFFFEB 		bl	__divdf3
  46:../Library/sensor/sensor.cpp **** 	vector[2] /= R;
 206              		.loc 1 46 0
 207 017c 0620A0E1 		mov	r2, r6
  45:../Library/sensor/sensor.cpp **** 	vector[1] /= R;	
 208              		.loc 1 45 0
 209 0180 080084E5 		str	r0, [r4, #8]
 210 0184 0C1084E5 		str	r1, [r4, #12]
 211              		.loc 1 46 0
 212 0188 0730A0E1 		mov	r3, r7
 213 018c 101084E2 		add	r1, r4, #16
 214 0190 030091E8 		ldmia	r1, {r0-r1}
 215 0194 FEFFFFEB 		bl	__divdf3
 216 0198 100084E5 		str	r0, [r4, #16]
 217 019c 141084E5 		str	r1, [r4, #20]
 218              	.LBE6:
  47:../Library/sensor/sensor.cpp **** }
 219              		.loc 1 47 0
 220 01a0 D04FBDE8 		ldmfd	sp!, {r4, r6, r7, r8, r9, sl, fp, lr}
 221 01a4 1EFF2FE1 		bx	lr
 222              		.cfi_endproc
 223              	.LFE4:
 225              		.section	.text.startup,"ax",%progbits
 226              		.align	2
 228              	_GLOBAL__sub_I_filter:
 229              	.LFB6:
 230              		.loc 1 47 0
 231              		.cfi_startproc
 232              		@ Function supports interworking.
 233              		@ args = 0, pretend = 0, frame = 0
 234              		@ frame_needed = 0, uses_anonymous_args = 0
 235              	.LVL8:
 236 0000 04E02DE5 		str	lr, [sp, #-4]!
 237              	.LCFI3:
 238              		.cfi_def_cfa_offset 4
 239              		.cfi_offset 14, -4
 240              	.LBB7:
 241              	.LBB8:
  19:../Library/sensor/sensor.cpp **** cSensor filter;
 242              		.loc 1 19 0
 243 0004 08009FE5 		ldr	r0, .L7
 244 0008 FEFFFFEB 		bl	_ZN7cSensorC1Ev
 245              	.LBE8:
 246              	.LBE7:
 247              		.loc 1 47 0
 248 000c 04E09DE4 		ldr	lr, [sp], #4
 249 0010 1EFF2FE1 		bx	lr
 250              	.L8:
 251              		.align	2
 252              	.L7:
 253 0014 00000000 		.word	.LANCHOR0
 254              		.cfi_endproc
 255              	.LFE6:
 257              		.section	.ctors,"aw",%progbits
 258              		.align	2
 259 0000 00000000 		.word	_GLOBAL__sub_I_filter
 260              		.global	filter
 261              		.global	_ZN7cSensorC1Ev
 262              		.set	_ZN7cSensorC1Ev,_ZN7cSensorC2Ev
 263              		.bss
 264              		.align	2
 265              		.set	.LANCHOR0,. + 0
 268              	filter:
 269 0000 00000000 		.space	232
 269      00000000 
 269      00000000 
 269      00000000 
 269      00000000 
 270              		.text
 271              	.Letext0:
 272              		.file 2 "../Library/sensor/sensor.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 sensor.cpp
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:5      .text:0000000000000000 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:8      .text:0000000000000000 _ZN7cSensorC2Ev
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:73     .text:0000000000000074 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:78     .text:0000000000000078 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:81     .text:0000000000000078 _ZN7cSensor9fillRwAccEfff
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:131    .text:00000000000000c0 _ZN7cSensor15normalizeVectorEPd
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:226    .text.startup:0000000000000000 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:228    .text.startup:0000000000000000 _GLOBAL__sub_I_filter
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:8      .text:0000000000000000 _ZN7cSensorC1Ev
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:253    .text.startup:0000000000000014 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:258    .ctors:0000000000000000 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:268    .bss:0000000000000000 filter
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccJfjMh2.s:264    .bss:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
__extendsfdf2
__muldf3
__adddf3
__divdf3
sqrt
