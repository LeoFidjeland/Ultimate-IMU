   1              		.file	"timer0.c"
   2              		.text
   3              	.Ltext0:
   4              		.cfi_sections	.debug_frame
   5              		.global	__udivsi3
   6              		.align	2
   7              		.global	timer0Init
   9              	timer0Init:
  10              	.LFB0:
  11              		.file 1 "../Library/timer/timer0.c"
   1:../Library/timer/timer0.c **** #include "timer0.h"
   2:../Library/timer/timer0.c **** #include "LPC214x.h"
   3:../Library/timer/timer0.c **** #include "target.h"	//Needed for Fcclk
   4:../Library/timer/timer0.c **** #include "rprintf.h"
   5:../Library/timer/timer0.c **** 
   6:../Library/timer/timer0.c **** static unsigned long int tFreq;
   7:../Library/timer/timer0.c **** 
   8:../Library/timer/timer0.c **** void timer0Init(unsigned long int freq)
   9:../Library/timer/timer0.c **** {
  12              		.loc 1 9 0
  13              		.cfi_startproc
  14              		@ Function supports interworking.
  15              		@ args = 0, pretend = 0, frame = 0
  16              		@ frame_needed = 0, uses_anonymous_args = 0
  17              	.LVL0:
  10:../Library/timer/timer0.c **** 	tFreq=freq;
  18              		.loc 1 10 0
  19 0000 34309FE5 		ldr	r3, .L2
   9:../Library/timer/timer0.c **** {
  20              		.loc 1 9 0
  21 0004 04E02DE5 		str	lr, [sp, #-4]!
  22              	.LCFI0:
  23              		.cfi_def_cfa_offset 4
  24              		.cfi_offset 14, -4
   9:../Library/timer/timer0.c **** {
  25              		.loc 1 9 0
  26 0008 0010A0E1 		mov	r1, r0
  27              		.loc 1 10 0
  28 000c 000083E5 		str	r0, [r3, #0]
  11:../Library/timer/timer0.c **** 	T0PR=Fcclk/tFreq;			//Set up the prescaler for a 'freq' frequency
  29              		.loc 1 11 0
  30 0010 28009FE5 		ldr	r0, .L2+4
  31              	.LVL1:
  32 0014 FEFFFFEB 		bl	__udivsi3
  33              	.LVL2:
  34 0018 24309FE5 		ldr	r3, .L2+8
  12:../Library/timer/timer0.c **** 	T0CTCR=0;					//Timer Mode
  35              		.loc 1 12 0
  36 001c 0020A0E3 		mov	r2, #0
  11:../Library/timer/timer0.c **** 	T0PR=Fcclk/tFreq;			//Set up the prescaler for a 'freq' frequency
  37              		.loc 1 11 0
  38 0020 0C0083E5 		str	r0, [r3, #12]
  39              		.loc 1 12 0
  40 0024 702083E5 		str	r2, [r3, #112]
  13:../Library/timer/timer0.c **** 	T0TCR |=0X01;				//Enable the clock
  41              		.loc 1 13 0
  42 0028 042093E5 		ldr	r2, [r3, #4]
  43 002c 012082E3 		orr	r2, r2, #1
  44 0030 042083E5 		str	r2, [r3, #4]
  14:../Library/timer/timer0.c **** 	//T0MCR=0x0003;				//Interrupt and Reset Timer on Match
  15:../Library/timer/timer0.c **** 	//T0MR0=(50000/TIMER_FREQ);	
  16:../Library/timer/timer0.c **** }
  45              		.loc 1 16 0
  46 0034 04E09DE4 		ldr	lr, [sp], #4
  47 0038 1EFF2FE1 		bx	lr
  48              	.L3:
  49              		.align	2
  50              	.L2:
  51 003c 00000000 		.word	.LANCHOR0
  52 0040 00879303 		.word	60000000
  53 0044 004000E0 		.word	-536854528
  54              		.cfi_endproc
  55              	.LFE0:
  57              		.align	2
  58              		.global	timer0Match
  60              	timer0Match:
  61              	.LFB1:
  17:../Library/timer/timer0.c **** 
  18:../Library/timer/timer0.c **** void timer0Match(int mr, unsigned long int freq, char mode)
  19:../Library/timer/timer0.c **** {
  62              		.loc 1 19 0
  63              		.cfi_startproc
  64              		@ Function supports interworking.
  65              		@ args = 0, pretend = 0, frame = 0
  66              		@ frame_needed = 0, uses_anonymous_args = 0
  67              	.LVL3:
  20:../Library/timer/timer0.c **** 	unsigned long int mfreq = tFreq/freq;		//Get the Match Register value by dividing timer frequency 
  68              		.loc 1 20 0
  69 0048 70309FE5 		ldr	r3, .L12
  19:../Library/timer/timer0.c **** {
  70              		.loc 1 19 0
  71 004c 30402DE9 		stmfd	sp!, {r4, r5, lr}
  72              	.LCFI1:
  73              		.cfi_def_cfa_offset 12
  74              		.cfi_offset 14, -4
  75              		.cfi_offset 5, -8
  76              		.cfi_offset 4, -12
  19:../Library/timer/timer0.c **** {
  77              		.loc 1 19 0
  78 0050 0040A0E1 		mov	r4, r0
  79              		.loc 1 20 0
  80 0054 000093E5 		ldr	r0, [r3, #0]
  81              	.LVL4:
  19:../Library/timer/timer0.c **** {
  82              		.loc 1 19 0
  83 0058 FF5002E2 		and	r5, r2, #255
  84              		.loc 1 20 0
  85 005c FEFFFFEB 		bl	__udivsi3
  86              	.LVL5:
  21:../Library/timer/timer0.c **** 
  22:../Library/timer/timer0.c **** 	switch(mr)
  87              		.loc 1 22 0
  88 0060 030054E3 		cmp	r4, #3
  89 0064 04F19F97 		ldrls	pc, [pc, r4, asl #2]
  90 0068 120000EA 		b	.L4
  91              	.L10:
  92 006c 7C000000 		.word	.L6
  93 0070 88000000 		.word	.L7
  94 0074 98000000 		.word	.L8
  95 0078 A8000000 		.word	.L9
  96              	.L6:
  23:../Library/timer/timer0.c **** 	{
  24:../Library/timer/timer0.c **** 		case 0:
  25:../Library/timer/timer0.c **** 			T0MR0 = mfreq;
  97              		.loc 1 25 0
  98 007c 40309FE5 		ldr	r3, .L12+4
  99 0080 180083E5 		str	r0, [r3, #24]
 100 0084 0A0000EA 		b	.L11
 101              	.L7:
  26:../Library/timer/timer0.c **** 			T0MCR = (mode<<0);		
  27:../Library/timer/timer0.c **** 			break;
  28:../Library/timer/timer0.c **** 		case 1:
  29:../Library/timer/timer0.c **** 			T0MR1 = mfreq;
 102              		.loc 1 29 0
 103 0088 34309FE5 		ldr	r3, .L12+4
  30:../Library/timer/timer0.c **** 			T0MCR = (mode<<3);
 104              		.loc 1 30 0
 105 008c 8551A0E1 		mov	r5, r5, asl #3
  29:../Library/timer/timer0.c **** 			T0MR1 = mfreq;
 106              		.loc 1 29 0
 107 0090 1C0083E5 		str	r0, [r3, #28]
 108 0094 060000EA 		b	.L11
 109              	.L8:
  31:../Library/timer/timer0.c **** 			break;
  32:../Library/timer/timer0.c **** 		case 2:
  33:../Library/timer/timer0.c **** 			T0MR2 = mfreq;
 110              		.loc 1 33 0
 111 0098 24309FE5 		ldr	r3, .L12+4
  34:../Library/timer/timer0.c **** 			T0MCR = (mode<<6);
 112              		.loc 1 34 0
 113 009c 0553A0E1 		mov	r5, r5, asl #6
  33:../Library/timer/timer0.c **** 			T0MR2 = mfreq;
 114              		.loc 1 33 0
 115 00a0 200083E5 		str	r0, [r3, #32]
 116 00a4 020000EA 		b	.L11
 117              	.L9:
  35:../Library/timer/timer0.c **** 			break;
  36:../Library/timer/timer0.c **** 		case 3:
  37:../Library/timer/timer0.c **** 			T0MR3 = mfreq;
 118              		.loc 1 37 0
 119 00a8 14309FE5 		ldr	r3, .L12+4
 120 00ac 240083E5 		str	r0, [r3, #36]
  38:../Library/timer/timer0.c **** 			T0MCR = (mode<<9);
 121              		.loc 1 38 0
 122 00b0 8554A0E1 		mov	r5, r5, asl #9
 123              	.L11:
 124 00b4 145083E5 		str	r5, [r3, #20]
 125              	.L4:
  39:../Library/timer/timer0.c **** 			break;
  40:../Library/timer/timer0.c **** 		default:
  41:../Library/timer/timer0.c **** 			break;
  42:../Library/timer/timer0.c **** 	}
  43:../Library/timer/timer0.c **** }
 126              		.loc 1 43 0
 127 00b8 3040BDE8 		ldmfd	sp!, {r4, r5, lr}
 128 00bc 1EFF2FE1 		bx	lr
 129              	.L13:
 130              		.align	2
 131              	.L12:
 132 00c0 00000000 		.word	.LANCHOR0
 133 00c4 004000E0 		.word	-536854528
 134              		.cfi_endproc
 135              	.LFE1:
 137              		.bss
 138              		.align	2
 139              		.set	.LANCHOR0,. + 0
 142              	tFreq:
 143 0000 00000000 		.space	4
 144              		.text
 145              	.Letext0:
DEFINED SYMBOLS
                            *ABS*:0000000000000000 timer0.c
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:6      .text:0000000000000000 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:9      .text:0000000000000000 timer0Init
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:51     .text:000000000000003c $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:57     .text:0000000000000048 $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:60     .text:0000000000000048 timer0Match
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:92     .text:000000000000006c $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:98     .text:000000000000007c $a
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:132    .text:00000000000000c0 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:138    .bss:0000000000000000 $d
/var/folders/vb/2fcwf0x52qn_fy1j7_hx1lpr0000gn/T//ccYic1Mf.s:142    .bss:0000000000000000 tFreq
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
__udivsi3
